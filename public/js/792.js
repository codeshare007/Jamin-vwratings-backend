"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[792],{3489:(t,e,a)=>{a.d(e,{Z:()=>n});var s=a(3645),i=a.n(s)()((function(t){return t[1]}));i.push([t.id,".avi-list{background:#000;border-radius:5px}.avi-list p{color:#fff}.avi-list .card{background:transparent}.avi-list .card a{color:#fff}",""]);const n=i},2792:(t,e,a)=>{a.r(e),a.d(e,{default:()=>c});const s={data:function(){return{query:null,currentPage:1,avis:[],type:"full_list",form:{name:null}}},computed:{loggedIn:function(){return this.$store.getters["auth/loggedIn"]}},watch:{query:function(t){var e=this;t?this.$api.avis.fetch({query:t,per_page:100}).then((function(t){e.avis=t})):this.fetchAvis()},type:function(t){var e=this;this.$api.avis.fetch({type:t,per_page:100}).then((function(t){e.avis=t}))}},mounted:function(){this.fetchAvis(),this.fetchNextAxis()},methods:{fetchAvis:function(){var t=this;this.$api.avis.fetch({per_page:50}).then((function(e){t.avis=e}))},createAvi:function(t){var e=this;t.preventDefault(),this.$api.avis.create(this.form).then((function(t){var a=t.data.data;e.$router.push({name:"ratings.avis.view",params:{id:a.id}})}))},fetchNextAxis:function(){var t=this;window.onscroll=function(){document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight&&"ratings.avis.list"===t.$route.name&&(t.currentPage++,t.$api.avis.fetch({page:t.currentPage,per_page:50}).then((function(e){for(var a in e)t.avis.push(e[a])})))}}}};var i=a(3379),n=a.n(i),r=a(3489),o={insert:"head",singleton:!1};n()(r.Z,o);r.Z.locals;const c=(0,a(1900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"avi-list"},[a("b-modal",{ref:"createAvi",attrs:{"ok-title":"Create","ok-variant":"success",title:"Create Avi"},on:{ok:t.createAvi}},[a("b-form",[a("b-form-group",{attrs:{label:"Avi name"}},[a("b-form-input",{attrs:{type:"text"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1)],1),t._v(" "),a("b-row",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"w-50 d-flex justify-content-between pt-5"},[t.loggedIn?a("b-button",{staticClass:"w-25",attrs:{variant:"success"},on:{click:function(e){return t.$refs.createAvi.show()}}},[t._v("Create Avi")]):t._e(),t._v(" "),a("b-form-select",{staticClass:"w-25",model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("b-form-select-option",{attrs:{value:"full_list"}},[t._v("Full list")]),t._v(" "),a("b-form-select-option",{attrs:{value:"good_list"}},[t._v("Good list")]),t._v(" "),a("b-form-select-option",{attrs:{value:"bad_list"}},[t._v("Bad list")]),t._v(" "),a("b-form-select-option",{attrs:{value:"recent_list"}},[t._v("Recent list")]),t._v(" "),a("b-form-select-option",{attrs:{value:"most_rated"}},[t._v("Most rated")]),t._v(" "),a("b-form-select-option",{attrs:{value:"comments"}},[t._v("Comments")]),t._v(" "),a("b-form-select-option",{attrs:{value:"pics"}},[t._v("Pics")])],1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"w-25 form-control",attrs:{placeholder:"Search...",type:"text"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}})],1)]),t._v(" "),a("b-card",{staticStyle:{"min-height":"500px"}},[a("b-card-body",{staticClass:"d-flex align-items-center flex-column"},t._l(this.avis,(function(e,s){return a("router-link",{key:s,staticClass:"d-block",attrs:{to:{name:"ratings.avis.view",params:{id:e.id}}}},[t._v("\n        "+t._s(e.name)+"\n      ")])})),1)],1)],1)}),[],!1,null,null,null).exports}}]);